/*!
 * /*!
 *  * js/index v1.0.0
 *  * Copyright (c) 2019-2020 undefined
 *  * Tue Dec 08 2020 16:11:17 GMT+0800 (GMT+08:00)
 *  * All rights reserved.
 *  * /
 */!function(e){var t={};function a(c){if(t[c])return t[c].exports;var o=t[c]={i:c,l:!1,exports:{}};return e[c].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=t,a.d=function(e,t,c){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(a.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(c,o,function(t){return e[t]}.bind(null,o));return c},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=16)}({0:function(e,t){e.exports=Vue},1:function(e,t){e.exports=VueRouter},15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var c=a(0);const o=Object(c.createVNode)("div",{class:"top",style:{height:"5rem"}},null,-1),n={class:"container-fluid",style:{height:"calc(100vh - 10rem)",background:"url(/assets/img/app/login.jpg) center center","background-size":"cover"}},r={class:"row"},s=Object(c.createVNode)("div",{class:"col-sm"},null,-1),l={class:"col-sm"},i={class:"rounded",style:{width:"18rem","text-align":"center",margin:"4rem auto",background:"#fff"}},d=Object(c.createStaticVNode)('<ul class="nav nav-tabs nav-justified font-weight-bold"><li class="nav-item"><a class="nav-link active">账号登陆</a></li><li class="nav-item"><a class="nav-link">扫码登陆</a></li></ul>',1),u={class:"tab-content m-3"},b={class:"tab-pane fade show active"},p={class:"form-group"},m={class:"form-group"},O={key:0,class:"form-text text-danger"},j=Object(c.createVNode)("a",{href:"forgot.html"},"忘记密码",-1),f=Object(c.createVNode)("div",{class:"form-group"},[Object(c.createVNode)("button",{class:"btn btn-primary btn-block",type:"submit"}," 登陆 ")],-1),v=Object(c.createVNode)("div",{class:"form-group"},[Object(c.createVNode)("a",{href:"forgot.html"},"忘记密码")],-1),h=Object(c.createVNode)("div",{class:"tab-pane fade"},[Object(c.createVNode)("div",{id:"scanlogin"},"功能开发中")],-1),g=Object(c.createVNode)("div",{class:"btn-group mb-3"},[Object(c.createVNode)("a",{class:"mr-2"},[Object(c.createVNode)("img",{class:"rounded-circle",src:"/assets/img/brand/dingding.png",style:{width:"2rem",height:"2rem"}})]),Object(c.createVNode)("a",null,[Object(c.createVNode)("img",{class:"rounded-circle",src:"/assets/img/brand/weixin.png",style:{width:"2rem",height:"2rem"}})])],-1),N=Object(c.createStaticVNode)('<footer class="main-footer mt-4"><div class="text-center mt-2"><a href="http://yunxioa.com/">网站导航</a>| <a href="http://yunxioa.com/">客户案例</a>| <a href="http://yunxioa.com/">设计与咨询</a>| <a href="http://yunxioa.com/">关于云僖</a>| <a href="http://yunxioa.com/">联系我们</a></div><div class="text-center mt-2"> Copyright ©2019 <a href="http://yunxioa.com/">云僖网络</a> 版权所有 </div></footer>',1);var V={setup:function(e,t){var a=t.attrs,o=t.slots,n=t.emit;return console.log("// Attribute (非响应式对象)",a),console.log("// 插槽 (非响应式对象)",o),console.log("// 触发事件 (方法)",n),{errmsg:Object(c.ref)(""),loginData:Object(c.reactive)({username:"",password:""})}},methods:{login:function(){var e=this;console.log(this.loginData),yunxi.base.http({url:"/auth/login/gettoken",data:this.loginData,type:"POST",success:function(t){0===t.errcode?(console.log(t.data),yunxi.base.token=t.data.token,e.$router.push("home")):(e.errmsg=t.msg,console.error(t))}})}},render:function(e,t,a,V,k,w){return Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,null,[o,Object(c.createVNode)("div",n,[Object(c.createVNode)("div",r,[s,Object(c.createVNode)("div",l,[Object(c.createVNode)("div",i,[d,Object(c.createVNode)("div",u,[Object(c.createVNode)("div",b,[Object(c.createVNode)("form",{class:"container",onSubmit:t[3]||(t[3]=Object(c.withModifiers)((...e)=>w.login(...e),["prevent"]))},[Object(c.createVNode)("div",p,[Object(c.withDirectives)(Object(c.createVNode)("input",{type:"mobile","onUpdate:modelValue":t[1]||(t[1]=e=>V.loginData.username=e),class:"form-control",placeholder:"输入手机号",required:""},null,512),[[c.vModelText,V.loginData.username,void 0,{trim:!0}]])]),Object(c.createVNode)("div",m,[Object(c.withDirectives)(Object(c.createVNode)("input",{type:"password",autocomplete:"off","onUpdate:modelValue":t[2]||(t[2]=e=>V.loginData.password=e),class:"form-control",placeholder:"输入登陆密码",required:""},null,512),[[c.vModelText,V.loginData.password]]),V.errmsg?(Object(c.openBlock)(),Object(c.createBlock)("small",O,[Object(c.createTextVNode)(Object(c.toDisplayString)(V.errmsg)+" ",1),j])):Object(c.createCommentVNode)("v-if",!0)]),f,v],32)]),h]),g])])])]),N],64)}},k=V;const w={class:"d-flex"},y={class:"sidebar-content"},x={class:"app-content"};const C={class:"navbar-brand"},M=Object(c.createVNode)("img",{src:"/logo.png",height:"36"},null,-1);var S={props:{corpname:""},inheritAttrs:!1,render:function(e,t,a,o,n,r){return Object(c.openBlock)(),Object(c.createBlock)("div",C,[M,Object(c.createVNode)("span",{class:"font-weight-bold",textContent:Object(c.toDisplayString)(a.corpname)},null,8,["textContent"])])}},B=S;const D={class:"navbar navbar-expand navbar-light"},_={class:"nav mr-auto"},A={class:"nav-item"},P=Object(c.createVNode)("i",{class:"fa fa-dedent"},null,-1),I={class:"nav"},T={class:"nav-item"},F=Object(c.createVNode)("a",{class:"nav-link"},[Object(c.createVNode)("i",{class:"fa fa-envelope"})],-1),q=Object(c.createVNode)("span",{class:"badge badge-pill badge-danger"},"99+",-1),R=Object(c.createVNode)("a",{class:"dropdown-item"},"测试",-1),z=Object(c.createVNode)("a",{class:"dropdown-item"},"测试",-1),H=Object(c.createVNode)("a",{class:"dropdown-item"},"测试",-1),J={class:"nav-item"},L=Object(c.createVNode)("a",{class:"nav-link"},[Object(c.createVNode)("i",{class:"fa fa-bell"})],-1),U=Object(c.createVNode)("span",{class:"badge badge-pill badge-danger"},"99+",-1),X=Object(c.createVNode)("a",{class:"dropdown-item"},"测试",-1),E=Object(c.createVNode)("a",{class:"dropdown-item"},"测试",-1),Q=Object(c.createVNode)("a",{class:"dropdown-item"},"测试",-1),W=Object(c.createStaticVNode)('<li class="nav-item"><a class="nav-link"><i class="fa fa-cog"></i></a></li><li class="nav-item"><a class="nav-link"><i class="fa fa-arrows-alt"></i></a></li>',2),$={class:"d-flex border-left border-right p-3 mx-3",style:{"min-width":"11rem"}},G={class:"align-self-center col",style:{"line-height":"1.125"}};var K={props:{showMinMenu:Function,info:{avatar:"",name:"",corpname:"",position:"",department:{}}},inheritAttrs:!1,setup:function(e){return{position:Object(c.computed)((function(){var t=e.info,a=t.position,c=t.department,o=a?"-"+a:"";return c?c[Object.keys(c)[0]]+o:o}))}},render:function(e,t,a,o,n,r){const s=Object(c.resolveComponent)("ui-dropdown-menu"),l=Object(c.resolveComponent)("ui-dropdown"),i=Object(c.resolveComponent)("ui-avatar");return Object(c.openBlock)(),Object(c.createBlock)("nav",D,[Object(c.createVNode)("ul",_,[Object(c.createVNode)("li",A,[Object(c.createVNode)("a",{class:"nav-link",onClick:t[1]||(t[1]=(...e)=>a.showMinMenu(...e))},[P])])]),Object(c.createVNode)("ul",I,[Object(c.createCommentVNode)(" .app-bar-menu "),Object(c.createVNode)("li",T,[Object(c.createVNode)(l,null,{default:Object(c.withCtx)(()=>[F,q,Object(c.createVNode)(s,null,{default:Object(c.withCtx)(()=>[R,z,H]),_:1})]),_:1})]),Object(c.createVNode)("li",J,[Object(c.createVNode)(l,null,{default:Object(c.withCtx)(()=>[L,U,Object(c.createVNode)(s,{class:"dropdown-menu-right"},{default:Object(c.withCtx)(()=>[X,E,Q]),_:1})]),_:1})]),W]),Object(c.createCommentVNode)(" .app-bar-info "),Object(c.createVNode)("div",$,[Object(c.createVNode)(i,{src:a.info.avatar,name:a.info.name,size:"2.25rem"},null,8,["src","name"]),Object(c.createVNode)("div",G,[Object(c.createVNode)("span",{class:"d-block",textContent:Object(c.toDisplayString)(a.info.name)},null,8,["textContent"]),Object(c.createVNode)("span",{class:"text-black-50 small",textContent:Object(c.toDisplayString)(o.position)},null,8,["textContent"])])])])}},Y=K;const Z={class:"app-body"},ee={class:"nav-scroller"},te=Object(c.createVNode)("a",{class:"nav-link"},[Object(c.createVNode)("i",{class:"fa fa-angle-left"})],-1),ae={class:"nav col"},ce={class:"nav-underline",style:{transform:"translateX(0)"}},oe=Object(c.createVNode)("i",{class:"fa fa-refresh"},null,-1),ne=Object(c.createVNode)("span",null,"工作台",-1),re=Object(c.createVNode)("i",{class:"fa fa-refresh"},null,-1),se=Object(c.createVNode)("a",{class:"nav-link"},[Object(c.createVNode)("i",{class:"fa fa-angle-right"})],-1),le=Object(c.createVNode)("a",{class:"nav-link disabled"},[Object(c.createVNode)("i",{class:"fa fa-angle-down"})],-1),ie={class:"embed-responsive"},de={src:"app/desktop"};var ue={props:{data:{show:-1,list:[]}},setup:function(e){var t=Object(c.toRefs)(e.data);return{list:t.list,show:t.show,showit:function(t){e.data.show=t},remove:function(t){e.data.list.splice(t,1);var a=e.data.list.length;(a<=e.data.show||0==a)&&(e.data.show=a-1)}}},render:function(e,t,a,o,n,r){return Object(c.openBlock)(),Object(c.createBlock)("div",Z,[Object(c.createCommentVNode)(" .app-nav-card "),Object(c.createVNode)("div",ee,[te,Object(c.createVNode)("div",ae,[Object(c.createVNode)("div",ce,[Object(c.createVNode)("a",{class:["nav-link",{active:-1===o.show}],onClick:t[1]||(t[1]=e=>o.showit(-1))},[oe,ne],2),(Object(c.openBlock)(!0),Object(c.createBlock)(c.Fragment,null,Object(c.renderList)(o.list,(e,t)=>(Object(c.openBlock)(),Object(c.createBlock)("a",{class:["nav-link",{active:t===o.show}],key:e.link,onClick:e=>o.showit(t)},[re,Object(c.createVNode)("span",{textContent:Object(c.toDisplayString)(e.name)},null,8,["textContent"]),Object(c.createVNode)("i",{class:"fa fa-close",onClick:Object(c.withModifiers)(e=>o.remove(t),["stop"])},null,8,["onClick"])],10,["onClick"]))),128))])]),se,le]),Object(c.createCommentVNode)(" .app-nav-card "),Object(c.createCommentVNode)(" .app-iframe "),Object(c.createVNode)("div",ie,[Object(c.withDirectives)(Object(c.createVNode)("iframe",de,null,512),[[c.vShow,-1===o.show]]),(Object(c.openBlock)(!0),Object(c.createBlock)(c.Fragment,null,Object(c.renderList)(o.list,(e,t)=>Object(c.withDirectives)((Object(c.openBlock)(),Object(c.createBlock)("iframe",{key:e.link,src:e.link},null,8,["src"])),[[c.vShow,t===o.show]])),128))]),Object(c.createCommentVNode)(" .app-iframe ")])}};var be={components:{AppBrand:B,AppNavbar:Y,AppFrame:ue},setup:function(){var e=Object(c.ref)({});yunxi.base.http({url:"/main/user",data:{token:yunxi.base.token},success:function(t){0===t.errcode&&(yunxi.cache.cookie.setItem("username",t.data.name),e.value=t.data,console.log("username储存",e))}}),console.log(e);var t=Object(c.ref)({});yunxi.base.http({url:"/main/menu",data:{token:yunxi.base.token},success:function(e){if(0===e.errcode){for(var a=e.data,c={},o=a.length,n=0;n<o;n++){var r=a[n].pid;c.hasOwnProperty(r)||(c[r]=[]),c[r].push(a[n])}t.value=c}}});var a=Object(c.ref)(!1),o=Object(c.reactive)({show:-1,list:[]});return Object(c.nextTick)((function(){new PerfectScrollbar(".sidebar-content",{suppressScrollX:!0})})),{userInfo:e,appMenu:t,minMenu:a,showMinMenu:function(){(function(e){throw new Error('"'+e+'" is read-only')})("minMenu"),a=!a},frameItem:o,clickMenu:function(e){var t=o.list.indexOf(e);e.link&&(t<0&&(o.list.push(e),t=o.list.length-1),o.show=t)}}},render:function(e,t,a,o,n,r){const s=Object(c.resolveComponent)("app-brand"),l=Object(c.resolveComponent)("ui-tree"),i=Object(c.resolveComponent)("app-navbar"),d=Object(c.resolveComponent)("app-frame");return Object(c.openBlock)(),Object(c.createBlock)("div",w,[Object(c.createCommentVNode)("left-menu"),Object(c.createVNode)("nav",{class:["sidebar",{"sidebar-min":o.minMenu}]},[Object(c.createVNode)(s,o.userInfo,null,16),Object(c.createVNode)("div",y,[Object(c.createVNode)(l,{data:o.appMenu,clickMenu:o.clickMenu},null,8,["data","clickMenu"])])],2),Object(c.createCommentVNode)("left-menu end"),Object(c.createCommentVNode)("content"),Object(c.createVNode)("div",x,[Object(c.createCommentVNode)("top"),Object(c.createVNode)(i,{info:o.userInfo,showMinMenu:o.showMinMenu},null,8,["info","showMinMenu"]),Object(c.createCommentVNode)("top end"),Object(c.createVNode)(d,{data:o.frameItem},null,8,["data"])]),Object(c.createCommentVNode)("content end")])}},pe=be,me=(a(15),a(1)),Oe=[{path:"/",component:k},{path:"/login",component:k},{path:"/home",component:pe}],je=Object(me.createRouter)({history:Object(me.createWebHashHistory)(),routes:Oe});Object(c.createApp)({template:"<router-view></router-view>"}).use(meui).use(je).mount("#app");if(yunxi.base.token)je.push("home");else{var fe=yunxi.util.url.getQueryStringByName("dingding_id");fe?(dd.ready((function(){dd.runtime.permission.requestAuthCode({corpId:fe,onSuccess:function(e){yunxi.base.http({url:"/auth/login/gettokenbycode",data:{dingding_id:fe,code:e.code},success:function(e){0===e.errcode&&(yunxi.base.token=e.data.token,je.push("home"))}})},onFail:function(e){console.log(JSON.stringify(e))}})})),dd.error((function(e){console.log(JSON.stringify(e))}))):je.push("login")}}});
//# sourceMappingURL=index.js.map?v=463a60b1d1c4a5ba0e23